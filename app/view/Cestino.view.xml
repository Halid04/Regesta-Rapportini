<mvc:View
controllerName="rapportini.controller.Cestino"
xmlns="sap.m"
xmlns:mvc="sap.ui.core.mvc"
xmlns:t="sap.ui.table"
xmlns:l="sap.ui.layout">

<Page id="cestino" title="Cestino" showNavButton = "true" navButtonPress = ".onNavBack">
      <FlexBox
            height="auto"
            alignItems="Center"
            justifyContent="Start"
            class="sapUiMediumMarginTop">
               <Button
                  text="Ripristina tutto"
                  press=".onRestoreAll"
                  icon="sap-icon://refresh" class="sapUiSmallMargin"/>
               <Button
                  text="Elimina tutto"
                  press=".onDeleteAll"
                  icon="sap-icon://delete" />
         </FlexBox>
         <FlexBox
               height="auto"
               width="100vw"
               alignItems="Center"
               justifyContent="Center"
               direction="Column"
               class="sapUiMediumMarginTop">

               <ScrollContainer height="auto" width="auto" horizontal="true" vertical="true" class="sapUiSmallMarginBegin">
                  <t:Table rows="{path: '/RapportiniCestinati'}" selectionMode="MultiToggle" width="99%" height="auto" alternateRowColors="true" id="tabella" fixedColumnCount="2">
                     <t:columns>
                        <t:Column width="140px">
                           <t:template>
                              <l:HorizontalLayout>
                                 <Button icon="sap-icon://refresh" press="onRestoreRapportino(${ID})" class="sapUiTinyMarginEnd" tooltip="Ripristina"/>
                                 <Button icon="sap-icon://delete" press="onDeleteRapportino(${ID})" class="sapUiTinyMarginEnd" tooltip="Elimina definitivamente"/>
                              </l:HorizontalLayout>
                           </t:template>
                        </t:Column>
                        <t:Column width="140px">
                           <Text text="Utente"/>
                           <t:template>
                              <Text text="{= ${utente} === ${globalData>/myUsername} ? '${utente} (tu)' : ${utente}}"/>
                           </t:template>
                        </t:Column>
                        <t:Column width="100px">
                           <Text text="Giorno" />
                           <t:template>
                              <Text text="{giorno}" />
                           </t:template>
                        </t:Column>
                        <t:Column width="50px">
                           <Text text="Ore" />
                           <t:template>
                              <Text text="{ore}" />
                           </t:template>
                        </t:Column>
                        <t:Column width="100px">   
                           <Text text="Ticket" />
                           <t:template>
                              <Text text="Ticket esempio" />
                           </t:template>
                        </t:Column>
                        <t:Column width="100px">
                           <Text text="Cliente" />
                           <t:template>
                              <Text text="Cosa nostra" />
                           </t:template>
                        </t:Column>
                        <t:Column width="100px">
                           <Text text="Commessa" />
                           <t:template>
                              <Text text="Trabajo serio en pincanello" />
                           </t:template>
                        </t:Column>
                        <t:Column width="50px">
                           <Text text="Sede" />
                           <t:template>
                              <Text text="{sede}" />
                           </t:template>
                        </t:Column>
                        <t:Column width="100px">
                           <Text text="Descrizione" />
                           <t:template>
                              <Text text="{descrizione}" />
                           </t:template>
                        </t:Column>
                        <t:Column width="100px">
                           <Text text="Spese totali" />
                           <t:template>
                              <Text text="{km}" />
                           </t:template>
                        </t:Column>
                     </t:columns>
                  </t:Table>
               </ScrollContainer>
            </FlexBox>
</Page>

</mvc:View>
